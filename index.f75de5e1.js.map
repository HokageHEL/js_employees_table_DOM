{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst headers = table.querySelectorAll('thead > tr > th');\nconst tbody = table.querySelector('tbody');\nconst rows = tbody.querySelectorAll('tr');\n\nconst pushNotification = (description, type) => {\n  const notification = document.createElement('div');\n\n  notification.classList.add(`notification`);\n  notification.classList.add(`${type}`);\n  notification.setAttribute('data-qa', 'notification');\n\n  notification.innerHTML = `\n  <h2 class=\"title\">${type}</h2>\n  <p>${description}</p>\n  `;\n\n  document.body.appendChild(notification);\n\n  setTimeout(() => {\n    notification.style.display = 'none';\n  }, 2000);\n};\n\nfunction sortTable(arr, count, header, index) {\n  return arr.sort((rowA, rowB) => {\n    let cellA = rowA.children[index].textContent;\n    let cellB = rowB.children[index].textContent;\n\n    if (count % 2 === 0) {\n      cellA = rowB.children[index].textContent;\n      cellB = rowA.children[index].textContent;\n    }\n\n    if (header.textContent === 'Salary') {\n      const parseSalary = (salary) => parseFloat(salary.replace(/[$,]/g, ''));\n\n      return parseSalary(cellA) - parseSalary(cellB);\n    }\n\n    if (header.textContent === 'Age') {\n      return parseInt(cellA) - parseInt(cellB);\n    }\n\n    return cellA.localeCompare(cellB);\n  });\n}\n\nheaders.forEach((header, index) => {\n  let count = 0;\n\n  header.addEventListener('click', () => {\n    count++;\n\n    const rowsArray = Array.from(rows);\n\n    const sortedRows = sortTable(rowsArray, count, header, index);\n\n    tbody.append(...sortedRows);\n  });\n});\n\ntbody.addEventListener('click', (e) => {\n  const activeRow = e.target.closest('tr');\n\n  if (!activeRow) {\n  }\n\n  rows.forEach((element) => {\n    element.classList.remove('active');\n  });\n\n  activeRow.classList.add('active');\n});\n\naddForm();\n\nconst employeName = document.querySelector('input[name=\"name\"]');\nconst position = document.querySelector('input[name=\"position\"]');\nconst office = document.querySelector('select[name=\"office\"]');\nconst age = document.querySelector('input[name=\"age\"]');\nconst employeSalary = document.querySelector('input[name=\"salary\"]');\nconst button = document.querySelector('button[name=\"save\"]');\n\nbutton.addEventListener('click', (e) => {\n  e.preventDefault();\n\n  const newEmployee = {\n    name: employeName.value,\n    position: position.value,\n    office: office.value,\n    age: age.value,\n    salary: employeSalary.value,\n  };\n  const row = document.createElement('tr');\n\n  switch (formValidation(newEmployee)) {\n    case 'name': {\n      pushNotification('Not valid name', 'error');\n      break;\n    }\n\n    case 'position': {\n      pushNotification('Not valid position', 'error');\n      break;\n    }\n\n    case 'age': {\n      pushNotification('Not valid age', 'error');\n      break;\n    }\n\n    default: {\n      for (const key in newEmployee) {\n        const td = document.createElement('td');\n\n        td.textContent = newEmployee[key];\n\n        if (key === 'salary') {\n          const validSalary = new Intl.NumberFormat('en-US').format(\n            newEmployee[key],\n          );\n\n          td.textContent = `$${validSalary}`;\n        }\n\n        row.appendChild(td);\n      }\n\n      tbody.appendChild(row);\n      pushNotification('Employe added to the table!', 'success');\n    }\n  }\n});\n\nfunction addForm() {\n  const form = document.createElement('form');\n\n  form.classList.add('new-employee-form');\n\n  form.innerHTML = `\n    <label>Name: <input name=\"name\" type=\"text\" required data-qa=\"name\"></label>\n    <label>Position: <input name=\"position\" type=\"text\" required data-qa=\"position\" ></label>\n    <label>Office:\n      <select name=\"office\" data-qa=\"office\">\n        <option value=\"Tokyo\">Tokyo</option>\n        <option value=\"Singapore\">Singapore</option>\n        <option value=\"London\">London</option>\n        <option value=\"New York\">New York</option>\n        <option value=\"Edinburgh\">Edinburgh</option>\n        <option value=\"San Francisco\">San Francisco</option>\n      </select>\n    </label>\n    <label>Age: <input name=\"age\" type=\"number\" required data-qa=\"age\" ></label>\n    <label>Salary: <input name=\"salary\" type=\"number\" required data-qa=\"salary\"></label>\n    <button name=\"save\" type=\"submit\">Save to table</button>\n  `;\n\n  document.querySelector('body').appendChild(form);\n}\n\nfunction formValidation(employe) {\n  if (employe.name.length < 4) {\n    return 'name';\n  }\n\n  if (employe.position.length < 4) {\n    return 'position';\n  }\n\n  if (employe.age < 18 || employe.age > 90) {\n    return 'age';\n  }\n}\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}